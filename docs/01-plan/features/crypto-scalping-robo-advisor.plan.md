# Plan: 코인 초단타 로보어드바이저 (Crypto Scalping Robo-Advisor)

> 작성일: 2026-02-22
> 상태: Draft
> 레벨: Dynamic (로컬 전용, 1인 사용)

---

## 1. 프로젝트 개요

### 1.1 목적
USDC를 기축통화로 하여 WLD(Worldcoin) 등 알트코인을 **초단타(Scalping)** 전략으로 자동 매매하는 개인용 로보어드바이저 웹 앱.

### 1.2 핵심 목표
- 여러 검증된 단타 전략을 **동시에** 실행하여 최적의 전략을 자동 탐색
- 수익률에 따라 매매 주기/파라미터를 **자동 조정**
- 주식/코인 초보자도 이해할 수 있는 **친절한 UI와 설명**

### 1.3 사용 환경
| 항목 | 내용 |
|------|------|
| 사용자 | 본인 1명 (유저 관리 불필요) |
| 실행 환경 | 로컬 PC (localhost) |
| 대상 코인 | WLD (기본), ETH/SOL (전환 가능) |
| 기축 통화 | USDC |
| 거래 방식 | CEX API (Binance/Kraken) 또는 DEX (Uniswap v3) |

---

## 2. 용어 설명 (초보자를 위한 친절한 가이드)

아래는 이 프로젝트에서 자주 등장하는 용어들입니다. 주식/코인을 처음 접하는 분도 이해할 수 있도록 쉽게 설명합니다.

### 2.1 기본 용어

| 용어 | 쉬운 설명 |
|------|-----------|
| **스캘핑 (Scalping)** | 아주 짧은 시간(수초~수분) 안에 소액의 이익을 반복해서 얻는 초단타 매매 방식. 한 번에 큰 돈이 아니라, 작은 수익을 여러 번 쌓는 전략 |
| **USDC** | 미국 달러(USD)에 1:1로 가치가 고정된 스테이블코인. 1 USDC = 약 1달러. 가격이 변하지 않으므로 "현금" 역할 |
| **WLD (Worldcoin)** | 샘 알트만이 만든 암호화폐. 변동성이 있어서 이걸 싸게 사서 비싸게 팔면 수익 |
| **스왑 (Swap)** | 한 코인을 다른 코인으로 교환하는 것. "USDC → WLD" = USDC로 WLD를 산다 |
| **매수 (Buy)** | 코인을 사는 것 |
| **매도 (Sell)** | 코인을 파는 것 |
| **시세차익** | 싸게 사서 비싸게 팔아서 생기는 이익 |
| **로보어드바이저** | 사람 대신 컴퓨터(알고리즘)가 자동으로 투자 판단을 내려주는 시스템 |

### 2.2 기술적 분석 지표 (Indicators) — 총 18개

지표는 크게 5가지 카테고리로 나뉩니다:
- **추세 (Trend)**: 가격이 올라가는 중인지, 내려가는 중인지 방향을 알려줌
- **모멘텀 (Momentum)**: 가격 움직임의 "속도와 힘"을 측정
- **변동성 (Volatility)**: 가격이 얼마나 크게 출렁이는지 측정
- **거래량 (Volume)**: 얼마나 많은 사람이 사고파는지 측정
- **복합 (Composite)**: 여러 정보를 한 번에 보여주는 올인원 지표

#### 추세 지표 (Trend) — "지금 어느 방향으로 가고 있어?"

| 지표 | 쉬운 설명 | 비유 | 스캘핑 활용 |
|------|-----------|------|-------------|
| **EMA (지수이동평균)** | 최근 가격에 더 가중치를 둔 평균선. 빠른 EMA(9)와 느린 EMA(21)가 교차하면 추세 전환 신호 | 최근 성적에 더 비중을 두는 성적 평균 | 9/21 EMA 교차 = 매수/매도 타이밍 |
| **ADX (평균방향지수)** | 추세의 **방향이 아니라 "강도"**를 측정. 0~100 사이 값으로 지금 추세가 강한지 약한지 알려줌. 25 이상이면 "확실한 추세", 20 이하면 "방향 없는 횡보" | 자동차 속도계. 방향은 모르지만 빠르게 달리는지(강한 추세) 느리게 가는지(약한 추세) 알 수 있음 | ADX > 25일 때만 추세 전략 사용, < 20이면 횡보 전략으로 전환 |
| **Parabolic SAR** | 가격 위/아래에 점이 찍히며 추세 방향과 반전 시점을 보여줌. 점이 가격 아래에 있으면 상승추세, 위에 있으면 하락추세 | 신호등 따라가기. 초록(아래 점) = 사도 됨, 빨강(위 점) = 팔아야 함 | 점이 위↔아래로 바뀌는 순간 = 추세 반전, 진입/퇴출 타이밍 |
| **SuperTrend** | ATR(변동폭) 기반으로 추세를 판단하는 지표. 초록선이면 상승, 빨간선이면 하락. 매우 직관적 | 지하철 노선도의 색깔. 초록 구간은 "타도 됨", 빨간 구간은 "내려야 함" | 색깔 전환 = 매수/매도 신호. 코인처럼 변동 큰 자산에 특히 효과적 |
| **Aroon (아룬)** | 최근 최고가/최저가가 "얼마나 최근에" 나왔는지 측정. Aroon Up이 높으면 최근에 최고가 갱신 = 강한 상승세 | 마지막으로 골 넣은 게 언제인지. 방금 골 넣었으면 기세가 좋은 것 | Aroon Up > 70 = 강한 상승, Aroon Down > 70 = 강한 하락 |
| **피보나치 되돌림** | 수학적으로 계산된 가격 레벨(23.6%, 38.2%, 50%, 61.8%)에서 가격이 반등하거나 저항받는 경향 | 계단의 자연스러운 쉼터. 사람들은 특정 층계에서 멈추는 경향이 있듯이 | 급등/급락 후 38.2%, 61.8% 지점에서 반등 매수 또는 매도 |
| **피봇 포인트** | 전날의 고가/저가/종가로 오늘의 지지선/저항선을 미리 계산. S1, S2(지지)와 R1, R2(저항) 레벨 | 전쟁터의 방어선. 아군이 어디서 방어할지 미리 정해놓은 것 | 피봇 레벨에서 반등 = 매수, 돌파 = 추가 상승 기대 |

#### 모멘텀 지표 (Momentum) — "지금 얼마나 빠르고 세게 움직여?"

| 지표 | 쉬운 설명 | 비유 | 스캘핑 활용 |
|------|-----------|------|-------------|
| **RSI (상대강도지수)** | 최근 가격이 "너무 올랐는지(과매수)" 또는 "너무 내렸는지(과매도)"를 0~100으로 보여줌. 70 이상 = 과매수, 30 이하 = 과매도 | 체온계. 체온이 너무 높으면 열을 내려야 하고, 너무 낮으면 올려야 함 | RSI < 30에서 매수, > 70에서 매도 |
| **MACD** | 두 개의 이동평균선(단기 vs 장기)의 차이를 보여줌. 이 둘이 교차하면 추세 전환 신호 | 토끼(단기)와 거북이(장기) 경주. 토끼가 앞지르면 상승세, 거북이가 앞서면 하락세 | 골든크로스(상향교차) = 매수, 데드크로스(하향교차) = 매도 |
| **Stochastic RSI** | RSI를 더 민감하게 만든 버전. 0~1 사이 값으로 과매수/과매도를 빠르게 감지 | RSI의 "민감한 형제". 더 빨리 반응하지만 가끔 헛다리 짚음 | 0.2 아래서 위로 교차 = 매수, 0.8 위에서 아래로 교차 = 매도 |
| **CCI (상품채널지수)** | 가격이 평균에서 **얼마나 벗어났는지**를 측정. +100 이상 = 비정상적 고가, -100 이하 = 비정상적 저가 | 고무줄 늘어난 정도. 많이 늘어나면(±100 넘으면) 곧 되돌아올 가능성 | CCI > +100에서 하락 반전 = 매도, < -100에서 상승 반전 = 매수 |
| **Williams %R** | 현재 가격이 최근 고저 범위에서 어디에 있는지 보여줌. -20 이상 = 과매수, -80 이하 = 과매도 | 연료 게이지가 거꾸로 된 것. -100(바닥) = 텅 빔, 0(꼭대기) = 가득 참 | -80 아래서 위로 올라올 때 매수, -20 위에서 내려올 때 매도 |
| **RVI (상대활력지수)** | 종가가 시가보다 높은지 낮은지의 "활력"을 측정. 상승 마감이 많으면 양수, 하락 마감이 많으면 음수 | 달리기 선수의 의지력. 끝까지 힘차게 뛰면(양봉 마감) 아직 기운이 남은 것 | RVI 시그널선 상향 교차 = 매수 모멘텀, 하향 교차 = 매도 모멘텀 |
| **Elder Ray (엘더 레이)** | 매수세(Bull Power)와 매도세(Bear Power)의 힘을 각각 측정. EMA 대비 고가/저가의 차이로 계산 | 팔씨름. Bull Power > 0이면 매수쪽이 이기는 중, Bear Power < 0이면 매도쪽이 이기는 중 | Bull Power 양수 + 상승 중 = 매수, Bear Power 음수 + 하락 중 = 매도 |

#### 변동성 지표 (Volatility) — "지금 얼마나 출렁거려?"

| 지표 | 쉬운 설명 | 비유 | 스캘핑 활용 |
|------|-----------|------|-------------|
| **볼린저 밴드 (BB)** | 가격의 "정상 범위"를 상단/중단/하단 3개 선으로 보여줌. 밴드 밖 = 비정상적 가격 | 고무줄. 너무 늘어나면 다시 되돌아오는 경향 | 하단밴드 터치 + RSI 과매도 = 매수 기회 |
| **ATR (평균진폭)** | 일정 기간 동안 가격이 얼마나 크게 움직였는지 숫자로 보여줌. 변동성 크기 측정 | 놀이기구의 흔들림 정도. 숫자 클수록 위험한(흔들리는) 장 | 손절폭 설정에 활용: 손절 = 진입가 ± ATR × 1.5 |
| **켈트너 채널 (KC)** | 볼린저밴드와 비슷하지만 ATR 기반으로 채널을 그림. 더 부드럽고 안정적인 밴드 | 볼린저밴드의 "차분한 형제". 똑같이 범위를 보여주지만 덜 흔들림 | 상단 채널 돌파 + 거래량 급증 = 강한 상승 돌파 매수 |
| **돈치안 채널 (DC)** | 최근 N봉 중 최고가와 최저가로 채널을 그림. 단순하지만 강력한 돌파 신호 | 달리기 기록판. 최근 신기록을 깨면(채널 돌파) 더 높이 갈 가능성 | 상단 돌파 = 매수, 하단 이탈 = 매도. 거래량으로 확인 필수 |

#### 거래량 지표 (Volume) — "지금 얼마나 많은 사람이 참여해?"

| 지표 | 쉬운 설명 | 비유 | 스캘핑 활용 |
|------|-----------|------|-------------|
| **VWAP (거래량가중평균가)** | 거래량을 고려한 평균 가격. 오늘 거래된 코인의 "진짜 평균 가격" | 물건의 "적정가". 이보다 비싸면 비싼 거고, 싸면 싼 것 | 가격이 VWAP 위 = 매수세 우위, 아래 = 매도세 우위 |
| **MFI (자금흐름지수)** | RSI에 거래량을 더한 버전. "돈이 들어오는지 빠지는지"를 0~100으로 표시. 80 이상 = 과매수, 20 이하 = 과매도 | 은행 입출금 내역. 돈이 많이 들어오면(MFI↑) 사는 사람이 많은 것 | RSI보다 더 정확한 과매수/과매도 판단. 거래량이 뒷받침된 신호만 걸러냄 |
| **OBV (누적거래량)** | 상승일에는 거래량을 더하고, 하락일에는 빼서 누적. 매수세/매도세의 총 흐름 추적 | 전광판의 점수. 올라가면 매수팀이 이기는 중, 내려가면 매도팀이 이기는 중 | 가격은 내리는데 OBV가 올라가면 → 곧 반등 신호 (다이버전스) |
| **CMF (차이킨 자금흐름)** | 종가가 고저 범위의 어디서 마감됐는지 + 거래량으로 매수/매도 압력 측정. 양수 = 매수 압력, 음수 = 매도 압력 | 시소의 기울기. 양수면 매수쪽이 무겁고, 음수면 매도쪽이 무거움 | CMF > 0 → 돌파 시 신뢰도 높음, CMF < 0 → 하락 돌파 주의 |
| **CVD (누적거래량 델타)** | 매수 체결량 - 매도 체결량을 누적으로 추적. 실시간으로 "누가 더 적극적으로 사고/파는지" 표시 | 줄다리기 실시간 중계. 어느 쪽이 더 세게 당기고 있는지 실시간으로 보여줌 | CVD 급등 = 공격적 매수 진입 중 → 매수 신호, CVD 급락 = 매도 신호 |
| **Volume Profile (거래량 프로필)** | 각 **가격대별**로 얼마나 거래됐는지 가로 막대그래프로 표시. 가장 많이 거래된 가격 = POC(거래집중가격) | 인기 맛집 지도. 사람이 많이 모이는(거래량 많은) 가격대가 중요한 지지/저항선 | POC에서 반등 = 강한 지지, VAH/VAL에서 반전 = 매수/매도 기회 |

#### 복합 지표 (Composite) — "여러 정보를 한 번에!"

| 지표 | 쉬운 설명 | 비유 | 스캘핑 활용 |
|------|-----------|------|-------------|
| **이치모쿠 구름 (Ichimoku)** | 5개 선으로 추세, 지지/저항, 모멘텀을 한 번에 보여주는 올인원 지표. "구름" 위 = 상승세, 아래 = 하락세 | 일기예보. 구름(미래 지지/저항), 바람(추세), 온도(모멘텀)를 한 화면에 보여줌 | 구름 위에서만 매수, 아래에서만 매도. 전환선/기준선 교차 = 진입 |

### 2.3 매매 전략 용어

| 용어 | 쉬운 설명 |
|------|-----------|
| **손절 (Stop-Loss)** | "이만큼 손해보면 자동으로 팔겠다"고 미리 정해두는 것. 큰 손실 방지 안전장치 |
| **익절 (Take-Profit)** | "이만큼 이익 나면 자동으로 팔겠다"고 미리 정해두는 것 |
| **포지션 사이즈** | 한 번의 매매에 얼마나 투자할지의 금액 |
| **드로다운 (Drawdown)** | 최고 수익에서 현재까지 떨어진 금액/비율. "최대 낙폭" |
| **백테스트 (Backtest)** | 과거 데이터로 전략을 테스트해보는 것. "이 전략으로 3개월 전에 했으면 어땠을까?" |
| **페이퍼 트레이딩** | 실제 돈 없이 가상으로 매매 연습하는 것 |
| **승률 (Win Rate)** | 전체 거래 중 수익을 낸 거래의 비율 |
| **다이버전스 (Divergence)** | 가격과 지표가 반대로 움직이는 현상. 가격은 내리는데 RSI가 올라가면 = "곧 반등할 수 있다"는 신호 |
| **히든 다이버전스** | 추세 중에 나타나는 다이버전스. "추세가 계속될 거야"라는 신호 (일반 다이버전스의 반대) |
| **과매수 (Overbought)** | "너무 많이 올라서 곧 내릴 수 있다"는 상태 |
| **과매도 (Oversold)** | "너무 많이 내려서 곧 오를 수 있다"는 상태 |
| **골든크로스** | 빠른 이동평균이 느린 이동평균을 위로 뚫는 것. 상승 신호 |
| **데드크로스** | 빠른 이동평균이 느린 이동평균을 아래로 뚫는 것. 하락 신호 |
| **횡보 (Ranging)** | 가격이 올라가지도 내려가지도 않고 옆으로 움직이는 상태 |
| **돌파 (Breakout)** | 가격이 중요한 저항선을 뚫고 올라가는 것. 추가 상승 기대 |
| **지지선 (Support)** | 가격이 더 이상 안 내려가고 반등하는 가격대. "바닥" |
| **저항선 (Resistance)** | 가격이 더 이상 안 올라가고 밀리는 가격대. "천장" |
| **타임프레임** | 차트의 시간 단위. 1분봉 = 1분마다 캔들 1개, 5분봉 = 5분마다 1개 |
| **샤프 비율 (Sharpe Ratio)** | 위험 대비 수익률. "이만큼 위험을 감수하고 얼마나 벌었나"를 측정. 높을수록 효율적 |

### 2.4 지표 조합 가이드 — "어떤 지표를 함께 쓸까?"

**핵심 원칙**: 같은 카테고리 지표를 중복 사용하지 말고, **다른 카테고리에서 1개씩** 조합하세요.

#### 좋은 조합 (서로 다른 정보를 보여줌)

| 조합 | 구성 | 왜 좋은지 |
|------|------|-----------|
| 추세 + 모멘텀 | EMA + RSI | 방향은 EMA가, 타이밍은 RSI가 알려줌 |
| 추세 + 거래량 | SuperTrend + MFI | 추세를 거래량이 뒷받침하는지 확인 |
| 변동성 + 모멘텀 | 볼린저밴드 + RSI | 가격 범위 이탈 + 과매수/매도 동시 확인 |
| 추세 + 모멘텀 + 거래량 | MACD + RSI + OBV | 방향 + 힘 + 돈의 흐름 삼중 확인 |
| 변동성 + 추세 + 거래량 | 켈트너 + ADX + Volume | 돌파 + 추세 강도 + 참여도 확인 |

#### 나쁜 조합 (같은 정보를 중복 측정)

| 피해야 할 조합 | 이유 |
|---------------|------|
| RSI + Stochastic RSI | 둘 다 모멘텀 → 같은 말을 두 번 함 |
| RSI + Williams %R | 둘 다 과매수/과매도 측정 |
| 볼린저밴드 + 켈트너 채널 | 둘 다 변동성 채널 → 하나만 사용 |
| OBV + CMF + MFI 전부 | 셋 다 거래량 기반 → 1~2개만 선택 |
| Parabolic SAR + SuperTrend | 둘 다 점/선으로 추세 표시 → 중복 |
| 이치모쿠 + 여러 EMA | 이치모쿠에 이미 이동평균이 포함됨 |

#### 추천 세트 (레벨별)

```
초급 (지표 2~3개):  EMA(9/21) + RSI(14) + 거래량
중급 (지표 3~4개):  MACD + RSI + 볼린저밴드 + 거래량
고급 (지표 4~5개):  Volume Profile + CVD + SuperTrend + RSI + ATR
프로 (지표 5~6개):  멀티TF EMA + MACD + StochRSI + OBV + Volume Profile + 호가창
```

---

## 3. 핵심 기능 정의

### 3.1 Feature Map

```
코인 초단타 로보어드바이저
├── F1. 실시간 시세 대시보드
│   ├── F1.1 실시간 가격 차트 (캔들스틱)
│   ├── F1.2 기술적 지표 오버레이 (RSI, MACD, BB 등)
│   ├── F1.3 호가창 (Order Book) 시각화
│   └── F1.4 현재 포지션/잔고 표시
│
├── F2. 멀티 전략 엔진 (20개 전략)
│   │
│   │  [평균회귀 전략] — "너무 벗어나면 결국 돌아온다"
│   ├── F2.1  RSI + 볼린저 밴드
│   ├── F2.2  VWAP 평균회귀
│   ├── F2.3  Williams %R + 볼린저 밴드
│   ├── F2.4  Volume Profile 회귀
│   │
│   │  [추세추종 전략] — "흐름을 타고 간다"
│   ├── F2.5  EMA 크로스오버 (9/21)
│   ├── F2.6  SuperTrend + MFI
│   ├── F2.7  Parabolic SAR + ADX 필터
│   ├── F2.8  멀티 타임프레임 EMA 정렬
│   ├── F2.9  이치모쿠 구름 바운스
│   │
│   │  [돌파 전략] — "벽을 뚫으면 달린다"
│   ├── F2.10 지지/저항 돌파
│   ├── F2.11 켈트너 채널 돌파
│   ├── F2.12 돈치안 채널 돌파 + 거래량 필터
│   │
│   │  [모멘텀 전략] — "속도와 힘을 읽는다"
│   ├── F2.13 MACD + RSI 복합
│   ├── F2.14 Stochastic RSI + MA
│   ├── F2.15 모멘텀 버스트 (급등/급락 포착)
│   ├── F2.16 CCI 다이버전스
│   │
│   │  [다이버전스 전략] — "숨겨진 반전을 찾는다"
│   ├── F2.17 OBV 다이버전스 + 캔들 패턴
│   ├── F2.18 히든 다이버전스 추세 연속
│   │
│   │  [주문흐름 전략] — "큰손의 움직임을 읽는다"
│   ├── F2.19 호가창 불균형
│   ├── F2.20 스프레드 스캘핑 (마켓메이킹)
│   │
│   └── F2.21 전략별 ON/OFF, 가중치, 카테고리 관리
│
├── F3. 자동 매매 실행
│   ├── F3.1 거래소 API 연동 (Binance/Kraken)
│   ├── F3.2 USDC ↔ WLD 자동 스왑
│   ├── F3.3 WLD ↔ ETH/SOL 전환 지원
│   ├── F3.4 주문 실행 (시장가/지정가)
│   └── F3.5 주문 상태 모니터링
│
├── F4. 리스크 관리
│   ├── F4.1 자동 손절 (Stop-Loss)
│   ├── F4.2 자동 익절 (Take-Profit)
│   ├── F4.3 포지션 사이즈 자동 계산
│   ├── F4.4 일일 최대 손실 제한 (3%)
│   └── F4.5 최대 드로다운 보호 (15%)
│
├── F5. 자동 최적화 엔진 (로보어드바이저 핵심)
│   ├── F5.1 전략별 성과 추적 (승률, 수익률, 샤프비율)
│   ├── F5.2 시장 상태 감지 (변동성/추세/횡보)
│   ├── F5.3 파라미터 자동 조정 (RSI 기간, EMA 기간 등)
│   ├── F5.4 전략 가중치 자동 재조정
│   ├── F5.5 매매 주기 자동 조절
│   └── F5.6 백테스트 기반 워크포워드 최적화
│
├── F6. 수익 분석 대시보드
│   ├── F6.1 전체 수익/손실 현황
│   ├── F6.2 전략별 성과 비교
│   ├── F6.3 거래 내역 로그
│   ├── F6.4 일간/주간/월간 수익 차트
│   └── F6.5 전략 추천 리포트
│
├── F7. 설정 및 제어
│   ├── F7.1 거래소 API 키 관리
│   ├── F7.2 전략 파라미터 수동 조정
│   ├── F7.3 자동매매 시작/중지
│   ├── F7.4 알림 설정 (큰 수익/손실 시)
│   └── F7.5 페이퍼 트레이딩 모드 (연습 모드)
│
└── F8. 일일 백테스트 & 전략 자동 업데이트 (Daily Rebalancing)
    ├── F8.1 과거 데이터 자동 수집 (최근 7일/30일/90일)
    ├── F8.2 전략별 백테스트 엔진
    ├── F8.3 파라미터 그리드 서치 (최적 설정값 탐색)
    ├── F8.4 00시(UTC) 자동 리밸런싱 스케줄러
    ├── F8.5 워크포워드 검증 (과최적화 방지)
    ├── F8.6 전략 성적표 & 변경 이력 로그
    └── F8.7 백테스트 결과 대시보드
```

### 3.2 각 기능 상세 설명

#### F1. 실시간 시세 대시보드
> "지금 코인 가격이 어떻게 움직이고 있는지 한눈에 보는 화면"

- **캔들스틱 차트**: 1분/5분/15분 단위로 가격 변동을 보여주는 차트. 빨간색은 하락, 초록색은 상승
- **지표 오버레이**: 차트 위에 RSI, MACD, 볼린저밴드 등을 겹쳐서 표시
- **호가창**: 현재 얼마에 사려는 사람과 팔려는 사람이 얼마나 있는지 시각화
- **잔고 표시**: 내가 가진 USDC, WLD 수량과 현재 가치

#### F2. 멀티 전략 엔진
> "20가지 검증된 전략을 동시에 돌려서 지금 WLD에 가장 잘 맞는 전략을 자동으로 찾기"

각 전략은 독립적으로 ON/OFF 가능하며, 가중치(얼마나 신뢰할지)를 설정 가능합니다.
난이도가 표시되어 있으니 처음에는 초급 전략만 켜고, 익숙해지면 중급/고급을 추가하세요.

##### 카테고리 A: 평균회귀 전략 — "너무 벗어나면 결국 돌아온다"

가격이 평균에서 너무 멀어지면 다시 평균으로 돌아오는 성질을 이용합니다.
**횡보장(방향 없이 옆으로 움직이는 시장)**에서 특히 효과적입니다.

| # | 전략명 | 작동 원리 | 매수 신호 | 매도 신호 | 타임프레임 | 난이도 |
|---|--------|-----------|-----------|-----------|------------|--------|
| 1 | **RSI + 볼린저밴드** | 가격이 "정상 범위" 밖으로 벗어났고, 모멘텀도 바닥일 때 매수 | 가격이 하단밴드 터치 + RSI < 30 | 가격이 상단밴드 터치 + RSI > 70 | 5분, 15분 | 초급 |
| 2 | **VWAP 평균회귀** | 가격은 결국 "오늘의 적정가(VWAP)"로 돌아온다 | 상승추세에서 VWAP까지 눌림 + 거래량 증가 | 하락추세에서 VWAP까지 반등 | 5분, 15분 | 초급 |
| 3 | **Williams %R + 볼린저밴드** | 과매도 상태 + 변동성 수축(밴드 좁아짐) = 곧 튀어오를 준비 | Williams %R < -80 + 하단밴드 터치 + BB 수축 | Williams %R > -20 + 상단밴드 터치 + BB 수축 | 5분, 15분 | 중급 |
| 4 | **Volume Profile 회귀** | 거래가 가장 많이 일어난 가격(POC)은 강력한 자석처럼 가격을 끌어당김 | 가격이 VAL(하단) 터치 + RSI 다이버전스 | 가격이 VAH(상단) 터치 + RSI 다이버전스 | 5분, 15분 | 고급 |

##### 카테고리 B: 추세추종 전략 — "흐름을 타고 간다"

이미 시작된 추세(상승/하락)에 올라타서 수익을 내는 전략입니다.
**추세장(한 방향으로 계속 가는 시장)**에서 효과적입니다.

| # | 전략명 | 작동 원리 | 매수 신호 | 매도 신호 | 타임프레임 | 난이도 |
|---|--------|-----------|-----------|-----------|------------|--------|
| 5 | **EMA 크로스오버 (9/21)** | 빠른 평균(9)이 느린 평균(21)을 위로 뚫으면 상승세 시작 | 9 EMA가 21 EMA 위로 교차 | 9 EMA가 21 EMA 아래로 교차 | 1분, 5분 | 초급 |
| 6 | **SuperTrend + MFI** | SuperTrend로 추세 방향 확인 + MFI로 "돈이 뒷받침되는" 움직임만 선별 | SuperTrend 초록 전환 + MFI > 30 상향교차 | SuperTrend 빨강 전환 + MFI < 70 하향교차 | 3분, 5분 | 초급 |
| 7 | **Parabolic SAR + ADX 필터** | SAR 점 전환으로 진입하되, ADX로 "추세가 진짜 강한지" 확인 후에만 진입 | SAR 점이 가격 아래로 전환 + ADX > 25 | SAR 점이 가격 위로 전환 + ADX > 25 | 5분, 15분 | 초급 |
| 8 | **멀티 타임프레임 EMA 정렬** | 큰 흐름(15분)과 작은 흐름(5분)이 같은 방향일 때만 진입. 거짓 신호 대폭 감소 | 15분: 9>21>50 EMA + 5분: 9 EMA 상향교차 | 15분: 9<21<50 EMA + 5분: 9 EMA 하향교차 | 5분 진입, 15분 확인 | 중급 |
| 9 | **이치모쿠 구름 바운스** | 가격이 이치모쿠 구름에서 튕겨나가는 것을 이용. 구름 = 강력한 지지/저항 | 상승추세(구름 위) + 가격이 구름 터치 후 반등 + 전환선>기준선 | 하락추세(구름 아래) + 가격이 구름 터치 후 하락 + 전환선<기준선 | 5분, 15분 | 고급 |

##### 카테고리 C: 돌파 전략 — "벽을 뚫으면 달린다"

가격이 중요한 가격대(저항선)를 뚫고 나가면 폭발적으로 움직이는 성질을 이용합니다.
**거래량 확인이 핵심**입니다. 거래량 없는 돌파는 가짜(페이크아웃)일 확률이 높습니다.

| # | 전략명 | 작동 원리 | 매수 신호 | 매도 신호 | 타임프레임 | 난이도 |
|---|--------|-----------|-----------|-----------|------------|--------|
| 10 | **지지/저항 돌파** | 여러 번 막혔던 가격대를 뚫으면 추가 상승/하락 기대 | 저항선 돌파 + 거래량 200% 급증 + 봉 마감 확인 | 지지선 이탈 + 거래량 급증 | 5분, 15분 | 중급 |
| 11 | **켈트너 채널 돌파** | 켈트너 채널 밖으로 가격이 튀어나가면 강한 모멘텀 돌파 | 상단 채널 돌파 + ADX > 25 + 거래량 150% 이상 | 하단 채널 이탈 + ADX > 25 + 거래량 급증 | 5분, 15분 | 중급 |
| 12 | **돈치안 채널 돌파 + 거래량** | 최근 N봉의 최고가/최저가 갱신 = 새로운 모멘텀 시작 | 상단 돈치안 돌파 + 거래량 > 20봉 평균의 200% | 하단 돈치안 이탈 + 거래량 급증 | 3분, 5분 | 초급 |

##### 카테고리 D: 모멘텀 전략 — "속도와 힘을 읽는다"

가격 움직임의 "가속도"를 측정해서 강한 움직임에 올라타거나, 약해지는 순간 빠져나옵니다.

| # | 전략명 | 작동 원리 | 매수 신호 | 매도 신호 | 타임프레임 | 난이도 |
|---|--------|-----------|-----------|-----------|------------|--------|
| 13 | **MACD + RSI 복합** | 추세(MACD)와 강도(RSI) 두 가지를 동시에 확인하여 신뢰도 UP | MACD 골든크로스 + RSI < 40에서 상승 | MACD 데드크로스 + RSI > 60에서 하락 | 5분, 15분 | 초급 |
| 14 | **Stochastic RSI + MA** | 민감한 StochRSI로 빠른 반전 감지 + 이동평균으로 추세 방향 확인 | StochRSI 0.2 상향교차 + 가격 > 21 EMA | StochRSI 0.8 하향교차 + 가격 < 21 EMA | 1분, 5분 | 초급 |
| 15 | **모멘텀 버스트** | CVD(매수/매도량 차이)가 갑자기 폭발 + RSI가 중립에서 방향 전환 = 급등/급락 직전 포착 | CVD 급등 + RSI 50 상향돌파 + 최근 고가 돌파 | CVD 급락 또는 RSI 70 도달 | 1분, 3분 | 중급 |
| 16 | **CCI 다이버전스** | 가격은 신저가인데 CCI는 올라가면 → "하락 힘이 빠졌다" = 곧 반등 | 가격 신저가 + CCI 저점 상승(강세 다이버전스) + CCI > -100 교차 | 가격 신고가 + CCI 고점 하락(약세 다이버전스) + CCI < +100 교차 | 5분, 15분 | 고급 |

##### 카테고리 E: 다이버전스 전략 — "숨겨진 반전/연속을 찾는다"

가격과 지표가 "다른 말을 할 때" 곧 큰 움직임이 온다는 원리입니다.

| # | 전략명 | 작동 원리 | 매수 신호 | 매도 신호 | 타임프레임 | 난이도 |
|---|--------|-----------|-----------|-----------|------------|--------|
| 17 | **OBV 다이버전스 + 캔들 패턴** | 가격은 내리는데 OBV(누적거래량)는 올라감 = "큰손이 몰래 사고 있다" + 반전 캔들로 확인 | 가격↓ + OBV↑ (강세 다이버전스) + 망치형/감싸기 캔들 | 가격↑ + OBV↓ (약세 다이버전스) + 유성형/감싸기 캔들 | 5분, 15분 | 중급 |
| 18 | **히든 다이버전스 추세 연속** | 추세 중 눌림목에서 "히든 다이버전스" 발견 = 추세가 계속될 거라는 강력한 신호 | 상승추세 + 가격 고점↑ + RSI 고점↓ (히든 강세) | 하락추세 + 가격 저점↓ + RSI 저점↑ (히든 약세) | 5분 진입, 15분 확인 | 고급 |

##### 카테고리 F: 주문흐름 전략 — "큰손의 움직임을 읽는다"

실제 주문 데이터(호가창, 체결 내역)를 분석해서 "똑똑한 돈"이 어디로 가는지 추적합니다.

| # | 전략명 | 작동 원리 | 매수 신호 | 매도 신호 | 타임프레임 | 난이도 |
|---|--------|-----------|-----------|-----------|------------|--------|
| 19 | **호가창 불균형** | 매수 주문량이 매도 주문량보다 2~3배 많으면 → 곧 가격 상승 압력 | 매수벽이 매도벽의 2배 이상 + 가격 상승 시작 | 매도벽이 매수벽의 2배 이상 + 가격 하락 시작 | 실시간 | 고급 |
| 20 | **스프레드 스캘핑 (마켓메이킹)** | 매수호가와 매도호가 사이의 차이(스프레드)에서 이익을 취하는 고빈도 전략 | 매수호가에 지정가 매수 + 매도호가에 지정가 매도 동시 배치 | 스프레드 축소 시 또는 한쪽 체결 시 | 실시간 (자동화 필수) | 고급 |

##### 전략 카테고리별 추천 시장 상황

| 시장 상태 | 추천 카테고리 | 추천 전략 (기본 ON) |
|-----------|--------------|---------------------|
| **강한 상승추세** | 추세추종 + 돌파 | EMA 크로스, SuperTrend, 지지/저항 돌파, 멀티TF EMA |
| **강한 하락추세** | 추세추종 + 모멘텀 | EMA 크로스(매도), SAR+ADX, MACD+RSI |
| **횡보 (방향 없음)** | 평균회귀 | RSI+BB, VWAP 회귀, Williams+BB, Volume Profile 회귀 |
| **고변동성 (크게 출렁)** | 돌파 + 모멘텀 | 켈트너 돌파, 돈치안 돌파, 모멘텀 버스트 |
| **저변동성 (잔잔)** | 평균회귀 + 스프레드 | RSI+BB, 스프레드 스캘핑 |
| **추세 전환 직전** | 다이버전스 | OBV 다이버전스, CCI 다이버전스, 히든 다이버전스 |

##### 초보자를 위한 전략 추천 로드맵

```
1단계 (처음 2주): 초급 전략 4개만 ON
   → RSI+BB, EMA 크로스, SuperTrend+MFI, MACD+RSI
   → 페이퍼 트레이딩으로 연습

2단계 (2~4주차): 중급 전략 추가
   → Williams+BB, 멀티TF EMA, 모멘텀 버스트, OBV 다이버전스

3단계 (1개월 이후): 고급 전략 추가
   → Volume Profile, 이치모쿠, CCI 다이버전스, 호가창 불균형

4단계 (숙련 후): 전체 20개 + 자동 최적화 풀가동
```

#### F3. 자동 매매 실행
> "전략이 '사라!' 또는 '팔아!' 신호를 내면 자동으로 실행"

- **거래소 API 연동**: Binance 또는 Kraken의 API를 사용해 자동 주문
- **USDC ↔ WLD 스왑**: 기본 거래쌍
- **WLD ↔ ETH/SOL 전환**: 설정에서 대상 코인을 변경 가능
- **주문 방식**: 빠른 실행을 위해 시장가 주문 기본, 슬리피지 방지를 위해 지정가 옵션

#### F4. 리스크 관리
> "돈을 잃지 않기 위한 안전장치들"

| 안전장치 | 기본값 | 설명 |
|----------|--------|------|
| 손절 (Stop-Loss) | 거래당 1% | 한 번의 거래에서 1% 이상 손실 나면 자동 매도 |
| 익절 (Take-Profit) | 거래당 1.5% | 1.5% 수익 시 자동 매도 (리스크 대비 1:1.5) |
| 포지션 사이즈 | 총자산의 5% | 한 번에 전체 자산의 5%만 투자 |
| 일일 손실 한도 | 3% | 하루에 3% 이상 잃으면 자동으로 매매 중지 |
| 최대 드로다운 | 15% | 최고점 대비 15% 이상 떨어지면 전체 매매 중지 |
| 연속 손실 제한 | 3회 | 3번 연속 손절 시 포지션 사이즈 50% 축소 |

#### F5. 자동 최적화 엔진 (로보어드바이저 핵심)
> "어떤 전략이 잘 되고 있고, 어떻게 자동으로 더 좋아지는지"

**작동 방식 (2단계 최적화 시스템):**

시스템은 두 가지 타이밍에 자동 조정됩니다:

**A. 실시간 미세 조정 (장중 수시)**
1. **성과 추적**: 각 전략의 승률, 수익률, 최대 손실을 실시간 기록
2. **시장 상태 감지**: 현재 시장이 "상승추세/하락추세/횡보/고변동성" 중 어떤 상태인지 자동 판별
3. **전략 자동 전환**:
   - 상승추세 → EMA 크로스오버, 돌파 전략에 높은 가중치
   - 횡보 → RSI+볼린저, VWAP 평균회귀에 높은 가중치
   - 고변동성 → 포지션 사이즈 줄이고, 손절 폭 넓힘
4. **긴급 조정**: 최근 20회 거래 승률이 45% 미만이면 즉시 경고 + 보수적 모드 전환
5. **매매 주기 조절**: 수익이 좋으면 주기를 줄이고(더 자주), 손실이 늘면 주기를 늘림(더 신중하게)

**B. 일일 백테스트 기반 전면 업데이트 (매일 00:00 UTC)**
1. **과거 데이터 백테스트**: 최근 7일 데이터로 모든 전략 성과 재검증
2. **파라미터 그리드 서치**: 각 전략의 최적 파라미터를 자동 탐색
3. **워크포워드 검증**: 과최적화 방지 필터 적용
4. **전면 업데이트 적용**: 파라미터, 가중치, ON/OFF 상태 일괄 갱신
5. **변경 이력 기록**: 무엇이 왜 바뀌었는지 전부 로그로 남김

→ 자세한 내용은 **F8. 일일 백테스트 & 전략 자동 업데이트** 참고

#### F6. 수익 분석 대시보드
> "내 투자가 얼마나 잘 되고 있는지 한눈에 보기"

- 총 수익/손실, 승률, 평균 수익률
- 전략별 성과 순위 (어떤 전략이 제일 잘 벌었는지)
- 일간/주간/월간 수익 차트
- 모든 거래 기록 (언제, 무엇을, 얼마에 사고 팔았는지)

#### F7. 설정 및 제어
> "내가 원하는 대로 조정하기"

- **API 키 관리**: 거래소 API 키를 안전하게 저장/관리
- **파라미터 수동 조정**: 자동 조정이 마음에 안 들면 직접 변경 가능
- **시작/중지**: 원클릭으로 자동매매 시작/중지
- **페이퍼 트레이딩**: 실제 돈 없이 가상으로 테스트하는 모드 (처음에는 이것부터!)

#### F8. 일일 백테스트 & 전략 자동 업데이트 (Daily Rebalancing)
> "매일 밤 자정에 '어제까지의 성적'을 복습하고, 내일 전략을 자동으로 개선하는 시스템"

이 기능은 로보어드바이저의 **학습 엔진**입니다. 사람이 자기 전에 하루를 돌아보고 내일 계획을 세우듯이, 시스템도 매일 자정(00:00 UTC)에 자동으로 아래 과정을 수행합니다.

**쉬운 비유**: 학생이 매일 밤 오늘 본 시험을 복습하고, 틀린 문제 유형을 파악해서 내일 공부 방법을 바꾸는 것과 같습니다.

##### F8.1 과거 데이터 자동 수집
> "복습할 자료 준비"

- 거래소 API로 최근 7일/30일/90일의 과거 캔들 데이터(OHLCV)를 자동 다운로드
- **OHLCV란?**: Open(시가), High(고가), Low(저가), Close(종가), Volume(거래량) — 각 시간대별 가격 요약 정보
- 1분봉, 5분봉, 15분봉 등 여러 타임프레임의 데이터를 수집
- SQLite에 캐싱하여 매번 다시 다운받지 않도록 효율화

##### F8.2 전략별 백테스트 엔진
> "과거 데이터로 모의 시험 보기"

각 전략을 과거 데이터에 적용해서 **"그때 이 전략을 썼으면 얼마나 벌었을까?"**를 시뮬레이션합니다.

```
백테스트 결과 예시:
──────────────────────────────────────────────
전략                  | 승률  | 수익률  | 최대손실 | 거래횟수
──────────────────────────────────────────────
RSI + 볼린저밴드      | 58%  | +3.2%  | -1.1%   | 47회
EMA 크로스오버        | 42%  | -0.8%  | -2.3%   | 62회
VWAP 평균회귀         | 61%  | +4.1%  | -0.9%   | 35회
MACD + RSI 복합       | 55%  | +2.7%  | -1.5%   | 41회
...
──────────────────────────────────────────────
→ 결론: VWAP 평균회귀가 최근 7일간 가장 좋은 성적!
```

- 수수료(0.1%)와 슬리피지(0.05%)도 반영하여 현실적인 결과 산출
- 전략별 승률, 수익률, 최대 드로다운, 샤프 비율, 거래 횟수 측정

##### F8.3 파라미터 그리드 서치
> "최적의 설정값 자동 탐색"

각 전략의 파라미터를 조금씩 바꿔가며 **어떤 설정이 가장 좋은 성적을 내는지** 자동 탐색합니다.

```
예시: RSI + 볼린저밴드 전략의 그리드 서치

RSI 기간:  [7, 10, 14, 21]  ← 4가지 테스트
BB 기간:   [15, 20, 25]     ← 3가지 테스트
BB 편차:   [1.5, 2.0, 2.5]  ← 3가지 테스트
────────────────────────────
총 조합: 4 × 3 × 3 = 36가지 자동 테스트

결과: RSI(10) + BB(20, 2.0)이 최근 7일간 최고 성적!
      → 이 설정으로 자동 업데이트
```

| 전략 | 탐색할 파라미터 | 탐색 범위 |
|------|----------------|-----------|
| RSI + BB | RSI 기간, BB 기간, BB 편차 | RSI: 7~21, BB: 15~25 |
| EMA 크로스 | 빠른 EMA, 느린 EMA | 빠른: 5~15, 느린: 15~30 |
| VWAP | VWAP 편차 밴드, 진입 임계값 | 편차: 1~3, 임계: 0.1~0.5% |
| StochRSI + MA | StochRSI 기간, MA 기간 | StochRSI: 7~21, MA: 9~21 |
| 지지/저항 | 룩백 기간, 돌파 확인 봉수 | 룩백: 20~100, 확인: 1~3 |
| MACD + RSI | MACD 파라미터, RSI 기간 | MACD: (5~12, 13~26, 5~9) |
| 호가창 | 불균형 비율 임계값 | 비율: 1.5~3.0 |

##### F8.4 00시(UTC) 자동 리밸런싱 스케줄러
> "매일 자정에 자동으로 전략을 업데이트하는 시계"

매일 **00:00 UTC (한국시간 09:00)**에 자동으로 실행되는 프로세스:

```
┌─────────────────────────────────────────────────────────────┐
│                 일일 리밸런싱 프로세스 (00:00 UTC)              │
│                                                              │
│  Step 1. 매매 일시 중지 (안전을 위해)                          │
│     │                                                        │
│  Step 2. 과거 데이터 수집 (최근 7일 기준)                      │
│     │    ccxt → fetchOHLCV() → 1분봉/5분봉/15분봉              │
│     │                                                        │
│  Step 3. 7개 전략 백테스트 실행                                │
│     │    각 전략 × 현재 파라미터 → 성과 측정                    │
│     │                                                        │
│  Step 4. 파라미터 그리드 서치                                  │
│     │    각 전략별 최적 파라미터 탐색                           │
│     │                                                        │
│  Step 5. 워크포워드 검증                                      │
│     │    과최적화 방지 체크 (아래 F8.5 참고)                    │
│     │                                                        │
│  Step 6. 전략 업데이트 적용                                    │
│     │    ├── 파라미터 업데이트                                 │
│     │    ├── 전략 가중치 재조정                                │
│     │    ├── 성적 나쁜 전략 자동 OFF (승률 35% 미만)           │
│     │    └── 성적 좋은 전략 가중치 UP                          │
│     │                                                        │
│  Step 7. 리스크 파라미터 조정                                  │
│     │    ├── 최근 변동성(ATR) 기반 손절폭 재조정               │
│     │    └── 포지션 사이즈 재계산                              │
│     │                                                        │
│  Step 8. 변경 이력 저장 & 알림                                 │
│     │    ├── 변경 내역 SQLite 저장                             │
│     │    └── 대시보드에 "오늘의 업데이트" 알림                  │
│     │                                                        │
│  Step 9. 매매 재개                                            │
└─────────────────────────────────────────────────────────────┘

소요 시간: 약 2~5분 (데이터 양에 따라 다름)
```

**중요 포인트:**
- 리밸런싱 중에는 **매매를 일시 중지**하여 충돌 방지
- 업데이트 전/후 파라미터를 모두 저장하여 **언제든 롤백 가능**
- 리밸런싱 시간은 설정에서 변경 가능 (기본: 00:00 UTC)

##### F8.5 워크포워드 검증 (과최적화 방지)
> "과거에만 잘 맞는 '치트키' 설정을 걸러내는 필터"

**과최적화(Overfitting)란?**: 과거 데이터에 너무 딱 맞춰서 설정하면, 미래에는 오히려 안 맞는 현상. 시험 답을 달달 외웠는데 새 문제가 나오면 못 푸는 것과 같습니다.

**워크포워드 검증 방법:**
```
전체 7일 데이터를 나누기:
├── 학습 구간 (In-Sample): 처음 5일 → 이 데이터로 최적 파라미터 탐색
└── 검증 구간 (Out-of-Sample): 마지막 2일 → 찾은 파라미터로 테스트

판정 기준:
├── 학습 구간 수익률: +5.0%
├── 검증 구간 수익률: +3.2%  ← 학습 대비 60% 이상이면 OK
└── 결과: ✅ 통과 (과최적화 아님, 이 파라미터 채택!)

만약:
├── 학습 구간 수익률: +5.0%
├── 검증 구간 수익률: +0.3%  ← 학습 대비 6%... 너무 낮음
└── 결과: ❌ 실패 (과최적화 의심, 이 파라미터 버림!)
```

- 검증 구간 성과가 학습 구간의 **50% 이상**이어야 통과
- 통과하지 못한 파라미터는 적용하지 않고, 기존 파라미터 유지

##### F8.6 전략 성적표 & 변경 이력 로그
> "매일의 복습 결과를 기록해두는 일기장"

모든 리밸런싱 결과를 기록하여 **시간이 지나면서 시스템이 얼마나 똑똑해졌는지** 추적합니다.

```
변경 이력 예시:
──────────────────────────────────────────────────────────
날짜       | 전략          | 변경 내용                    | 사유
──────────────────────────────────────────────────────────
2026-02-22 | RSI+BB        | RSI 14→10, BB 2.0→1.8       | 승률 58→64% 향상
2026-02-22 | EMA 크로스    | 가중치 15%→8%                | 승률 42% (기준 미달)
2026-02-22 | VWAP          | 가중치 20%→28%               | 최고 성과 전략
2026-02-23 | EMA 크로스    | OFF → ON                     | 시장 추세 전환 감지
...
──────────────────────────────────────────────────────────
```

##### F8.7 백테스트 결과 대시보드
> "복습 결과를 한눈에 보는 성적표"

| 표시 항목 | 설명 |
|-----------|------|
| 전략별 백테스트 승률 추이 | 날짜별로 각 전략의 승률이 어떻게 변했는지 꺾은선 그래프 |
| 파라미터 변경 히스토리 | 타임라인 형태로 언제 무엇이 바뀌었는지 표시 |
| 현재 vs 이전 설정 비교 | 오늘 적용된 설정과 어제 설정의 차이 |
| 워크포워드 통과율 | 최근 30일간 검증 통과/실패 비율 |
| 예상 vs 실제 수익 비교 | 백테스트 예측 수익 vs 실제 라이브 수익 괴리율 |

---

## 4. 기술 스택

### 4.1 프론트엔드
| 기술 | 선택 이유 |
|------|-----------|
| **Next.js 15 (App Router)** | React 기반 풀스택 프레임워크, 로컬 서버 내장 |
| **TypeScript** | 타입 안전성으로 버그 감소 |
| **Tailwind CSS** | 빠른 UI 개발 |
| **Lightweight Charts (TradingView)** | 고성능 캔들스틱 차트 라이브러리 (무료, 경량) |
| **Recharts** | 수익 분석용 일반 차트 |

### 4.2 백엔드 (로컬)
| 기술 | 선택 이유 |
|------|-----------|
| **Next.js API Routes** | 별도 서버 불필요, 프론트엔드와 통합 |
| **SQLite (better-sqlite3)** | 로컬 파일 기반 DB, 설치/관리 간편 |
| **Node.js WebSocket** | 거래소 실시간 데이터 수신 |

### 4.3 트레이딩 엔진
| 기술 | 선택 이유 |
|------|-----------|
| **technicalindicators** | RSI, MACD, BB, EMA, Stochastic, CCI, Williams %R, ADX, PSAR, Ichimoku 등 18개 지표 계산 |
| **ccxt** | 100+ 거래소 통합 API 라이브러리 (Binance, Kraken 등 지원) + 과거 OHLCV 데이터 수집 |
| **node-cron** | 00:00 UTC 일일 리밸런싱 스케줄러 |

### 4.4 개발 도구
| 기술 | 선택 이유 |
|------|-----------|
| **pnpm** | 빠른 패키지 매니저 |
| **ESLint + Prettier** | 코드 품질 |

---

## 5. 시스템 아키텍처 (간단 설명)

```
┌─────────────────────────────────────────────────────────┐
│                     브라우저 (localhost:3000)               │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐ │
│  │실시간 차트│  │전략 제어 │  │수익 분석 │  │  설정    │ │
│  └────┬─────┘  └────┬─────┘  └────┬─────┘  └────┬─────┘ │
└───────┼──────────────┼──────────────┼──────────────┼─────┘
        │              │              │              │
┌───────┴──────────────┴──────────────┴──────────────┴─────┐
│                  Next.js API Routes (로컬 서버)            │
│  ┌──────────────────────────────────────────────────────┐ │
│  │              트레이딩 엔진 (Trading Engine)            │ │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐          │ │
│  │  │전략 매니저│  │주문 실행기│  │리스크 관리│          │ │
│  │  └────┬─────┘  └────┬─────┘  └────┬─────┘          │ │
│  │       │              │              │                │ │
│  │  ┌────┴─────────────┴──────────────┘                │ │
│  │  │         자동 최적화 엔진                           │ │
│  │  │  (성과 추적 → 시장 감지 → 파라미터 조정)           │ │
│  │  └──────────────────────────────────────┐           │ │
│  └─────────────────────────────────────────┤           │ │
│                                            │           │ │
│  ┌──────────┐                    ┌─────────┴──────┐   │ │
│  │  SQLite  │                    │    ccxt 라이브러리│   │ │
│  │(거래내역)│                    │ (거래소 API 연동)│   │ │
│  └──────────┘                    └─────────┬──────┘   │ │
└────────────────────────────────────────────┼──────────┘ │
                                             │
                              ┌──────────────┴──────────┐
                              │ 거래소 (Binance/Kraken)  │
                              │  WebSocket (실시간 시세) │
                              │  REST API (주문 실행)    │
                              └─────────────────────────┘
```

---

## 6. 데이터 흐름

```
[장중 실시간 루프]
1. 시세 수신:  거래소 WebSocket → 실시간 가격 데이터 → 지표 계산
2. 전략 판단:  지표 데이터 → 7개 전략 동시 분석 → 매수/매도 신호 생성
3. 신호 합산:  각 전략 신호 × 가중치 → 최종 매매 결정
4. 리스크 체크: 최종 결정 → 리스크 관리 필터 → 통과 시 주문 실행
5. 주문 실행:  ccxt → 거래소 API → 주문 완료
6. 기록 저장:  거래 결과 → SQLite 저장 → 대시보드 업데이트
7. 미세 조정:  실시간 성과 모니터링 → 긴급 조정 (필요시) → 2번으로 순환

[매일 00:00 UTC 일일 리밸런싱]
8. 매매 일시중지 → 과거 데이터 수집 (최근 7일)
9. 전략별 백테스트 → 파라미터 그리드 서치 → 워크포워드 검증
10. 전략 업데이트: 파라미터 갱신 + 가중치 재조정 + 부진 전략 OFF
11. 변경 이력 저장 → 매매 재개 → 2번으로 순환
```

---

## 7. 화면 구성 (Page Map)

| 페이지 | 경로 | 설명 |
|--------|------|------|
| **메인 대시보드** | `/` | 실시간 차트 + 현재 포지션 + 전략 상태 요약 |
| **전략 관리** | `/strategies` | 7개 전략 ON/OFF, 가중치 조정, 각 전략 상세 설명 |
| **거래 내역** | `/trades` | 모든 거래 기록, 필터링, 검색 |
| **수익 분석** | `/analytics` | 전략별 수익 비교, 기간별 차트, 성과 리포트 |
| **백테스트** | `/backtest` | 백테스트 결과, 파라미터 변경 이력, 예상 vs 실제 수익 비교, 수동 백테스트 실행 |
| **설정** | `/settings` | API 키, 리스크 파라미터, 대상 코인 변경, 페이퍼 트레이딩 토글, 리밸런싱 시간 설정 |

---

## 8. 구현 우선순위 (Phase)

### Phase 1: 기초 인프라 (MVP)
> 목표: 실시간 시세를 보고, 수동으로 이해하기

1. Next.js 프로젝트 세팅 + 기본 레이아웃
2. 거래소 API 연동 (ccxt + WebSocket)
3. 실시간 캔들스틱 차트 표시
4. 기본 지표(RSI, EMA, 볼린저밴드) 차트에 오버레이
5. USDC/WLD 잔고 표시

### Phase 2: 전략 엔진
> 목표: 7가지 전략이 신호를 만들어내기

1. 기술적 지표 계산 모듈 (technicalindicators)
2. 7개 전략 알고리즘 구현
3. 전략별 매수/매도 신호 생성
4. 신호 합산 로직 (가중 투표 시스템)
5. 전략 관리 UI (ON/OFF, 가중치)

### Phase 3: 자동 매매
> 목표: 신호에 따라 실제로 사고 팔기

1. 주문 실행 모듈 (ccxt)
2. 리스크 관리 모듈 (손절/익절/포지션사이즈)
3. 거래 내역 SQLite 저장
4. 거래 내역 UI
5. 페이퍼 트레이딩 모드

### Phase 4: 백테스트 & 일일 자동 업데이트
> 목표: 과거 데이터로 전략을 검증하고, 매일 자정에 자동으로 개선되는 시스템

1. 과거 데이터(OHLCV) 수집 모듈 (ccxt fetchOHLCV)
2. 백테스트 엔진 (전략 × 과거 데이터 → 성과 시뮬레이션)
3. 파라미터 그리드 서치 (최적 설정값 자동 탐색)
4. 워크포워드 검증 (과최적화 방지 필터)
5. 00:00 UTC 스케줄러 (node-cron 기반 일일 리밸런싱)
6. 전략 업데이트 자동 적용 + 변경 이력 저장
7. 백테스트 결과 대시보드 (`/backtest` 페이지)

### Phase 5: 자동 최적화 & 수익 분석
> 목표: 실시간 미세 조정 + 종합 수익 분석

1. 전략별 실시간 성과 추적 시스템
2. 시장 상태(regime) 감지 알고리즘
3. 실시간 파라미터 미세 조정 로직
4. 전략 가중치 자동 재조정
5. 수익 분석 대시보드 (`/analytics` 페이지)

### Phase 6: 확장 및 고도화
> 목표: 더 다양한 코인, 더 풍부한 기능

1. WLD ↔ ETH/SOL 전환 기능
2. 호가창 시각화 + 호가창 불균형 전략
3. 알림 기능
4. 예상 vs 실제 수익 괴리율 분석
5. 백테스트 수동 실행 기능 (원하는 기간/전략 직접 테스트)

---

## 9. 리스크 및 주의사항

### 9.1 투자 리스크
- **원금 손실 가능**: 어떤 전략도 100% 수익을 보장하지 않음
- **슬리피지**: 주문 시점과 체결 시점의 가격 차이로 예상보다 불리하게 체결될 수 있음
- **수수료**: 매번 거래할 때마다 수수료가 발생 (0.1~0.26%). 초단타는 거래가 잦으므로 수수료 영향이 큼
- **API 장애**: 거래소 서버 문제로 주문이 실행되지 않을 수 있음

### 9.2 기술적 리스크
- **API Rate Limit**: 거래소 API 호출 횟수 제한 초과 시 일시 차단
- **WebSocket 끊김**: 인터넷 연결 불안정 시 실시간 데이터 유실
- **과최적화 (Overfitting)**: 과거에만 잘 맞고 실제로는 안 맞는 파라미터 도출 가능

### 9.3 권장사항
1. **반드시 페이퍼 트레이딩부터 시작** (최소 2주~1개월)
2. **소액으로 시작** (총 자산의 5~10%만 투입)
3. **일일 손실 한도 반드시 설정**
4. **정기적으로 전략 성과 리뷰**

---

## 10. 성공 기준

| 지표 | 목표 |
|------|------|
| 전략 신호 정확도 | 각 전략 백테스트 승률 50% 이상 |
| 자동매매 실행 | 신호 발생 후 1초 이내 주문 실행 |
| 일일 리밸런싱 | 매일 00:00 UTC에 자동 실행, 5분 이내 완료 |
| 워크포워드 통과율 | 파라미터 업데이트 시 검증 통과율 70% 이상 |
| 백테스트 vs 실제 괴리 | 예상 수익과 실제 수익의 괴리율 30% 이내 |
| 시스템 안정성 | 24시간 연속 운영 시 크래시 없음 |
| UI 응답성 | 차트 업데이트 100ms 이내 |

---

## 부록: 참고 자료

### 거래소 API 문서
- Binance: https://developers.binance.com/
- Kraken: https://docs.kraken.com/
- Coinbase: https://docs.cdp.coinbase.com/

### 사용 라이브러리
- ccxt (거래소 통합): https://github.com/ccxt/ccxt
- technicalindicators (지표 계산): https://github.com/anandanand84/technicalindicators
- Lightweight Charts (차트): https://github.com/nicholasgasior/lightweight-charts

### 학습 자료 (초보자 추천)
- 기술적 분석 기초: RSI, MACD, 볼린저밴드 사용법
- 스캘핑 전략 가이드
- 리스크 관리의 기본 원칙
